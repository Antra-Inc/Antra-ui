<mat-drawer-container autosize>
  <mat-drawer #drawer [mode]="sidenavMode" [opened]="isOpen" class="sidenavbar-sidenav"
    [ngStyle]="{ background: sideNavBackground }" [ngClass]="{ sidenavopen: isExpanded }"
    (mouseenter)="handleMouseEnter()" (mouseleave)="handleMouseLeave()" color="primary">
    <mat-nav-list>
      <!-- || !node.children -->
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [ngStyle]="{ background: sideNavBackground }">
        <!-- Menus -->
        <mat-tree-node *matTreeNodeDef="let node; when: hasChild">
          <mat-list-item (click)="handleTreeNodeToggle(node); handleListOnClick(node)"
            [attr.aria-label]="'Toggle ' + node.name"
            [ngStyle]="{ color: sideNavTextColor, 'background-color': sideNavBackgroundColor }">
            <mat-icon mat-list-icon *ngIf="!node.useSvgIcon">{{ node.icon }}</mat-icon>
            <mat-icon mat-list-icon *ngIf="node.useSvgIcon" [svgIcon]="node.icon"></mat-icon>
            <mat-icon *ngIf="isExpanded">
              <!-- {{ treeControl.isExpanded(node)===null?'':treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'
              }} -->
              {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
            </mat-icon>
            <span mat-line [ngStyle]="{'font-size.px':sideNavFontSize}" *ngIf="isExpanded">{{ node.name }}</span>
          </mat-list-item>
        </mat-tree-node>

        <!-- SubMenus -->
        <mat-tree-node [ngStyle]="{ display: isExpanded || node.icon ? 'block' : 'none' }" *matTreeNodeDef="let node"
          matTreeNodePadding [matTreeNodePaddingIndent]="treeNodePaddingIndent">
          <mat-list-item (click)="handleListOnClick(node)"
            [ngStyle]="node.icon?{ color: sideNavTextColor, 'background-color': sideNavBackgroundColor }:{ color: sideNavSubMenuTextColor, 'background-color': sideNavSubMenuBackgroundColor}">
            <mat-icon mat-list-icon *ngIf="!node.useSvgIcon">{{ node.icon }}</mat-icon>
            <mat-icon mat-list-icon *ngIf="node.useSvgIcon" [svgIcon]="node.icon"></mat-icon>
            <span mat-line
              [ngStyle]="node.icon? {'font-size.px':sideNavFontSize}:{'font-size.px':sideNavSubMenuFontSize}">
              {{ node.name }}</span>
          </mat-list-item>
        </mat-tree-node>
      </mat-tree>
    </mat-nav-list>
  </mat-drawer>

  <mat-drawer-content autosize>
    <ng-content></ng-content>
  </mat-drawer-content>
</mat-drawer-container>